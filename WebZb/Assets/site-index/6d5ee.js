!function s(e,a,n){function t(i,o){if(!a[i]){if(!e[i]){var l="function"==typeof require&&require;if(!o&&l)return l(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[i]={exports:{}};e[i][0].call(d.exports,(function(s){return t(e[i][1][s]||s)}),d,d.exports,s,e,a,n)}return a[i].exports}for(var r="function"==typeof require&&require,i=0;i<n.length;i++)t(n[i]);return t}({1:[function(s,e,a){"use strict";jQuery((function(s){var e=null;function a(s,a,n,t){var r=t||jQuery(".mce-tinymce");clearTimeout(e),jQuery("#notice").remove(),r.append('<div id="notice"><div class="notice-bg"></div><div class="notice-wrap"><div class="notice-inner notice-'+s+'">'+a+"</div></div></div>"),n&&(e=setTimeout((function(){jQuery("#notice").remove()}),n))}var n=0,t=s(".q-single");t.length&&s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_views",id:t.data("id")},type:"POST",success:function(s){}}),s("#answer").on("click",".j-reply",(function(){var e=s(this).closest(".as-item");if(e.find(".as-comments-box").length)s(".as-comments-box").remove(),s(".as-comments").remove();else{var a='<div class="as-comments-box">        <form method="post" class="as-comments-form clearfix">        <input type="hidden" name="id" value="'+e.data("aid")+'" >    <input class="as-comments-input form-control" name="comment" type="text" placeholder="'+QAPress_js.lang.addcomment+'" autocomplete="off">    <input class="as-comments-submit" type="submit" value="'+QAPress_js.lang.submit+'">    </form></div>';s(".as-comments-box").remove(),s(".as-comments").remove(),e.find(".as-main").append(a),e.find(".as-comments-input").focus()}})).on("click",".btn-vote",(function(){var e=s(this),n=e.hasClass("btn-vote-up")?1:-1,t=e.closest(".as-item"),r=t.find(".btn-vote.active"),i=t.find(".btn-vote-up"),o=i.data("vote");if(e.hasClass("active")){if(e.removeClass("active"),1===n){var l=o-1;l=l<1?"":" "+l,i.html(i.find("svg").prop("outerHTML")+i.attr("aria-label")+l)}}else{if(1===n){var c=o+1;c=c<1?"":" "+c,i.html(i.find("svg").prop("outerHTML")+i.attr("aria-label")+c)}else if(r.length){var d=o-1;d=d<1?"":" "+d,i.html(i.find("svg").prop("outerHTML")+i.attr("aria-label")+d)}r.removeClass("active"),e.addClass("active")}s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_vote",id:t.data("aid"),type:n,nonce:s("#comments_list_nonce").val()},type:"POST",dataType:"json",success:function(s){if("0"==s.result){i.data("vote",s.upvote);var e=s.upvote<1?"":" "+s.upvote;i.html(i.find("svg").prop("outerHTML")+i.attr("aria-label")+e),t.find(".btn-vote").removeClass("active"),s.voted&&"upvote"===s.voted?t.find(".btn-vote-up").addClass("active"):s.voted&&"downvote"===s.voted&&t.find(".btn-vote-down").addClass("active")}else if(s.msg){t.find(".btn-vote.active").removeClass("active");var n=o<1?"":" "+o;i.html(i.find("svg").prop("outerHTML")+i.attr("aria-label")+n),a(0,s.msg,1200,t)}}})})),s("#answer").on("click",".j-reply-list",(function(){var e=s(this).closest(".as-item"),n=e.find(".as-comments").length;e.find(".as-comments-box").remove(),e.find(".as-comments").remove(),n||(e.find(".as-main").append('<div class="as-comments"><ul class="as-comments-list"><li class="as-comments-none"><img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.loading+"</li></ul></div>"),s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_comments",aid:e.data("aid")},type:"POST",dataType:"json",success:function(s){if(0==s.result){var n=function(s,e){var a="";if(s&&s.length)for(var n=0;n<s.length;n++)a+='<li class="as-comments-item" data-id="'+s[n].ID+'">                <div class="as-comment-name">'+s[n].user+" <span>"+s[n].date+"</span>"+("1"==e?'<span><a class="j-del-comment" href="javascript:;">'+QAPress_js.lang.delete+"</a></span>":"")+'</div>                <div class="as-comment-content">'+s[n].content+"</div>                </li>";else a+='<li class="as-comments-none">'+QAPress_js.lang.nocomment2+"</li>";return a}(s.comments,s.delete);e.find(".as-main .as-comments-list").html(n)}else e.find(".as-main .as-comments-list").html('<li class="as-comments-none">'+QAPress_js.lang.error1+"</li>"),a(0,QAPress_js.lang.error1,1200,e)},error:function(){e.find(".as-main .as-comments-list").html('<li class="as-comments-none">'+QAPress_js.lang.error2+"</li>"),a(0,QAPress_js.lang.error2,1200,e)}}))})).on("click",".j-answer-del",(function(){if(confirm(QAPress_js.lang.confirm)){$el=s(this).closest(".as-item"),a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.deleting,0,$el);var n=$el.data("aid");s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_delete_answer",id:n},type:"POST",dataType:"json",success:function(n){clearTimeout(e),s("#notice").remove(),0==n.result?(a(1,QAPress_js.lang.success,1500,$el),setTimeout((function(){$el.fadeOut("fast",(function(){var s=$el.closest(".as-list");$el.remove(),0==s.find(".as-item").length&&s.append('<li class="as-item-none" style="text-align: center;color: #999;padding-top: 10px;">'+QAPress_js.lang.nocomment+"</li>")}))}),1400)):2==n.result?a(0,QAPress_js.lang.denied,1200,$el):a(0,QAPress_js.lang.error3,1200,$el)},error:function(n){clearTimeout(e),s("#notice").remove(),a(0,QAPress_js.lang.error3,1200,$el)}})}})).on("click",".j-del-comment",(function(){if(confirm(QAPress_js.lang.confirm2)){$el=s(this).closest(".as-comments-item"),a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.deleting,0,$el);var n=$el.data("id");s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_delete_comment",id:n},type:"POST",dataType:"json",success:function(n){clearTimeout(e),s("#notice").remove(),0==n.result?(a(1,QAPress_js.lang.success,1500,$el),setTimeout((function(){$el.fadeOut("fast",(function(){var s=$el.closest(".as-comments-list");$el.remove(),0==s.find(".as-comments-item").length&&s.append('<li class="as-comments-none">'+QAPress_js.lang.nocomment2+"</li>")}))}),1400)):2==n.result?a(0,QAPress_js.lang.denied,1200,$el):a(0,QAPress_js.lang.error3,1200,$el)},error:function(n){clearTimeout(e),s("#notice").remove(),a(0,QAPress_js.lang.error3,1200,$el)}})}})),s("#as-form").submit((function(){if(n)return!1;n=1,tinyMCE.triggerSave();var e=s("#editor-answer").val();return s.trim(e)?(a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.submitting,0),s.ajax({url:QAPress_js.ajaxurl,data:s(this).serialize()+"&action=QAPress_add_answer",type:"POST",dataType:"json",success:function(e){if(n=0,0==e.result){a(1,QAPress_js.lang.success2,1200);var t='<li id="as-'+e.answer.ID+'" class="as-item" data-aid="'+e.answer.ID+'" style="display: none;"><div class="as-head">                            <div class="as-avatar">'+e.user.avatar+'</div>                            <div class="as-user">'+e.user.nickname+'</div>                            </div>                        <div class="as-main">                        <div class="as-content entry-content">'+e.answer.content+'</div>                        <div class="as-action">                        <span class="as-time">'+e.answer.date+'</span>                        <span class="as-reply-count"><a class="j-reply-list" href="javascript:;">'+QAPress_js.lang.ncomment+"</a></span>                        </div>                        </div>                        </li>";s(".as-list").append(t),s("#as-"+e.answer.ID).fadeIn(),s(".as-item-none").remove(),tinyMCE.activeEditor.setContent("")}else 101==e.result?a(0,QAPress_js.lang.empty,1200):2==e.result?a(0,QAPress_js.lang.login,2e3):a(0,QAPress_js.lang.error4,1200)},error:function(s){n=0,a(0,QAPress_js.lang.error4,1200)}}),!1):(a(0,QAPress_js.lang.empty,1e3),n=0,!1)})),s("#answer").on("submit",".as-comments-form",(function(){if(n)return!1;n=1;var e=s(this).find(".as-comments-input").val(),t=s(this).closest(".as-item");return s.trim(e)?(a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.submitting,0,t),s.ajax({url:QAPress_js.ajaxurl,data:s(this).serialize()+"&action=QAPress_add_comment",type:"POST",dataType:"json",success:function(s){n=0,0==s.result?(a(1,QAPress_js.lang.success2,2e3,t),t.find(".as-comments-input").val("")):101==s.result?a(0,QAPress_js.lang.empty,1200,t):2==s.result?a(0,QAPress_js.lang.login,2e3,t):a(0,QAPress_js.lang.error4,1200,t)},error:function(s){n=0,a(0,QAPress_js.lang.error4,1200,t)}}),!1):(a(0,QAPress_js.lang.empty,1200,t),n=0,!1)})),s("#question-form").submit((function(){if(n)return!1;n=1,tinyMCE.triggerSave();var e=s("input[name=title]").val(),t=s("select[name=category]").val(),r=s("#editor-question").val();return e?t?s.trim(r)?(a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.submitting,0),s.ajax({url:QAPress_js.ajaxurl,data:s(this).serialize()+"&action=QAPress_add_question",type:"POST",dataType:"json",success:function(e){n=0,0==e.result?(console.log(e),s("input[name=id]").val()?a(1,void 0===e.msg?QAPress_js.lang.success3:e.msg,1500):(n=1,a(1,void 0===e.msg?QAPress_js.lang.success4:e.msg,1200)),void 0!==e.location&&setTimeout((function(){window.location.href=e.location,n=0}),1200)):101==e.result?a(0,QAPress_js.lang.need_all,1200):102==e.result?a(0,QAPress_js.lang.length,1200):a(0,QAPress_js.lang.error4,1200)},error:function(s){n=0,a(0,QAPress_js.lang.error4,1200)}}),!1):(a(0,QAPress_js.lang.need_content,1200),n=0,!1):(a(0,QAPress_js.lang.need_cat,1200),n=0,!1):(a(0,QAPress_js.lang.need_title,1200),n=0,!1)})),s("#answer").on("click",".q-load-more",(function(){var e=s(this);if(!e.hasClass("disabled")){e.addClass("disabled").text(QAPress_js.lang.loading);var n=s(".q-single").data("id"),t=e.data("page");t=t||2,s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_answers_pagination",question:n,page:t},type:"POST",dataType:"json",success:function(n){if(0==n.result){var r="";if(n.answers.length){for(var i=0;i<n.answers.length;i++)r+=n.answers[i];s(".as-list").append(r)}else s(".q-load-more").css("visibility","hidden"),a(1,QAPress_js.lang.load_done,1500,s(".as-list"))}else a(0,QAPress_js.lang.load_fail,1500,s(".as-list"));e.removeClass("disabled").text(QAPress_js.lang.load_more),e.data("page",t+1)},error:function(n){e.removeClass("disabled").text(QAPress_js.lang.load_more),a(0,QAPress_js.lang.load_fail,1500,s(".as-list"))}})}})),s(".topic-header").on("click",".j-del",(function(){if(confirm(QAPress_js.lang.confirm3)){a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.deleting,0,s(".q-entry"));var n=s(".q-single").data("id");s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_delete_question",id:n},type:"POST",dataType:"json",success:function(n){clearTimeout(e),s("#notice").remove(),0==n.result?a(1,QAPress_js.lang.success,1500,s(".q-entry")):2==n.result?a(0,QAPress_js.lang.denied,1200,s(".q-entry")):a(0,QAPress_js.lang.error3,1200,s(".q-entry"))},error:function(n){clearTimeout(e),s("#notice").remove(),a(0,QAPress_js.lang.error3,1200,s(".q-entry"))}})}})).on("click",".j-approve",(function(){if(confirm(QAPress_js.lang.approve)){a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.loading,0,s(".q-entry"));var n=s(".q-single").data("id");s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_approve_question",id:n},type:"POST",dataType:"json",success:function(n){clearTimeout(e),s("#notice").remove(),0==n.result?(a(1,QAPress_js.lang.success,1500,s(".q-entry")),s(".j-approve").remove()):2==n.result?a(0,QAPress_js.lang.denied,1200,s(".q-entry")):a(0,QAPress_js.lang.error2,1200,s(".q-entry"))},error:function(n){clearTimeout(e),s("#notice").remove(),a(0,QAPress_js.lang.error2,1200,s(".q-entry"))}})}})).on("click",".j-set-top",(function(){a(1,'<img class="notice-loading" src="'+QAPress_js.ajaxloading+'"> '+QAPress_js.lang.loading,0,s(".q-entry"));var n=s(".q-single").data("id");s.ajax({url:QAPress_js.ajaxurl,data:{action:"QAPress_set_top",id:n},type:"POST",dataType:"json",success:function(n){clearTimeout(e),s("#notice").remove(),0==n.result?(a(1,QAPress_js.lang.success,1500,s(".q-entry")),window.location.reload()):2==n.result?a(0,QAPress_js.lang.denied,1200,s(".q-entry")):a(0,QAPress_js.lang.error2,1200,s(".q-entry"))},error:function(n){clearTimeout(e),s("#notice").remove(),a(0,QAPress_js.lang.error2,1200,s(".q-entry"))}})})),s(".wpcom-profile").on("click",".j-user-questions,.j-user-answers",(function(){var e=s(this);if(e.hasClass("loading")||e.hasClass("disabled"))return!1;var a=null,n=e.data("page");n=n?n+1:2;var t=s(".profile-tab").data("user");e.hasClass("j-user-questions")?a={action:"QAPress_user_questions",user:t||0,page:n}:e.hasClass("j-user-answers")&&(a={action:"QAPress_user_answers",user:t||0,page:n}),e.loading(1),s.ajax({type:"POST",url:_wpmx_js?_wpmx_js.ajaxurl:_wpcom_js.ajaxurl,data:a,dataType:"html",success:function(a){if("0"==a)e.addClass("disabled").text(QAPress_js.lang.end);else{var t=s(a);e.parent().prev().append(t),s.fn.lazyload&&t.find(".j-lazy").lazyload({threshold:-50,effect:"fadeIn"}),e.data("page",n),s(window).trigger("scroll")}e.loading(0)},error:function(){e.loading(0)}})}))}))},{}]},{},[1]);